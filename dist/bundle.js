(()=>{"use strict";var t,e,i,s;(s=t||(t={})).CHANGEBACKGROUND="CHANGEBACKGROUND",s.NAVIGATE="NAVIGATE",s.ELIMINATE="ELIMINATE",s.EDIT="EDIT",s.ADDITEM="ADDITEM",(i=e||(e={})).LOGIN="LOGIN",i.DASHBOARD="DASHBOARD",i.REGISTER="REGISTER";let n=(t=>{const e=localStorage.getItem(t)||sessionStorage.getItem(t);return e?JSON.parse(e):{screen:"DASHBOARD",itemsList:[]}})("STORE"),o=[];const r=i=>{const s=((i,s)=>{const{action:n,payload:o}=i;switch(n){case e.DASHBOARD:return Object.assign(Object.assign({},s),{screen:o});case t.ELIMINATE:return Object.assign(Object.assign({},s),{itemsList:s.itemsList.filter((t=>t.id!==o))});case t.EDIT:return Object.assign(Object.assign({},s),{itemsList:o});case t.ADDITEM:return Object.assign(Object.assign({},s),{itemsList:[...s.itemsList,o]});default:return s}})(i,JSON.parse(JSON.stringify(n)));n=s,((t,e,i=!1)=>{const s=i?sessionStorage:localStorage,n=JSON.stringify(e);s.setItem(t,n)})("STORE",s),o.forEach((t=>t.render()))},c=t=>{o=[...o,t]},a=e=>({action:t.ELIMINATE,payload:e});var d,h;!function(t){t.uid="uid",t.name="name",t.price="price",t.category="category",t.bio="bio",t.image="image",t.rating="rating"}(d||(d={}));class u extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),c(this)}static get observedAttributes(){return Object.values(d)}connectedCallback(){this.render()}attributeChangedCallback(t,e,i){switch(t){case d.uid:this.uid=i?Number(i):void 0;break;case d.price:this.price=i?Number(i):void 0;break;default:this[t]=i}this.render()}render(){var t,e;this.shadowRoot&&(this.shadowRoot.innerHTML=`\n\t\t\t<div class="divItem">\n            <div class="img">\n            <img src="${this.image}" alt="${this.name}">\n            </div>\n\t\t\t\t<h3>${this.name}</h3>\n                <p>${this.price}</p>\n                <p>${this.category}</p>\n                <p>${this.bio}</p>\n\t\t\t\t<p>${this.rating}</p>\n\t\t\t\t<button class="delete">Eliminar</button>\n                <button class="edit">Editar</button>\n\t\t\t</div>\n\t\t`);const i=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".delete"),s=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".edit");null==i||i.addEventListener("click",(()=>{console.log("click",this.uid),r(a(this.uid))})),null==s||s.addEventListener("click",(()=>{console.log("click",this.uid),r(a(this.uid))}))}}customElements.define("product-item",u),function(t){t.image="image",t.titleproduct="titleproduct",t.price="price",t.bio="bio"}(h||(h={}));class l extends HTMLElement{static get observedAttributes(){return Object.values(h)}attributeChangedCallback(t,e,i){t===h.price?this.price=i?Number(i):void 0:this[t]=i}constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){this.shadowRoot&&(this.shadowRoot.innerHTML=`\n            <div class="product">\n                <div class="image">\n                    <img src="${this.image}" || 'No Image'}">\n                </div>\n                <div class="information">\n                    <div class="details">\n                        <h3>${this.titleproduct||"No Title"}</h3>\n                        <p class="price">$${this.price||"No Price"}</p>\n                        <p class="bio">$${this.bio||"No Price"}</p>\n                    </div>\n                </div>\n            </div>       \n                `)}}customElements.define("productlist-component",l);class p extends HTMLElement{constructor(){super(),this.products=[],this.shoppingCart=[],this.dataProducts=[],this.attachShadow({mode:"open"}),c(this)}connectedCallback(){return t=this,e=void 0,s=function*(){var t,e,i,s;this.dataProducts=yield(t=void 0,e=void 0,i=void 0,s=function*(){try{return yield fetch("https://fakestoreapi.com/products").then((t=>t.json()))}catch(t){console.error(t)}},new(i||(i=Promise))((function(n,o){function r(t){try{a(s.next(t))}catch(t){o(t)}}function c(t){try{a(s.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,c)}a((s=s.apply(t,e||[])).next())}))),this.createCardsProduct(),this.createCardsListItem(),this.render()},new((i=void 0)||(i=Promise))((function(n,o){function r(t){try{a(s.next(t))}catch(t){o(t)}}function c(t){try{a(s.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,c)}a((s=s.apply(t,e||[])).next())}));var t,e,i,s}createCardsProduct(){this.dataProducts.forEach((t=>{const e=this.ownerDocument.createElement("product-item");e.setAttribute(d.image,t.image),e.setAttribute(d.name,t.title),e.setAttribute(d.bio,t.description),e.setAttribute(d.category,t.category),e.setAttribute(d.price,t.price),e.setAttribute(d.rating,t.rating.rate),this.products.push(e)}))}createCardsListItem(){n.itemsList.forEach((t=>{const e=this.ownerDocument.createElement("productlist-component");e.setAttribute(h.image,t.image),e.setAttribute(h.titleproduct,t.title),e.setAttribute(h.price,t.price),this.shoppingCart.push(e)}))}render(){var t,e;if(this.shadowRoot){this.shadowRoot.innerHTML='\n\t\t   <h1>Store Products</h1>\n\t\t   <hr>\n\t\t   <div class="container-products"></div>\n\t\t   \n\t\t   <h1>Added to cart</h1>\n\t\t   <hr>\n\t\t   <div class="container-shopping"></div>\n\t\t   ';const i=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".container-products");this.products.forEach((t=>{null==i||i.appendChild(t)}));const s=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".container-shopping");this.shoppingCart.forEach((t=>{null==s||s.appendChild(t)}))}}}customElements.define("app-dashboard",p);class m extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),c(this)}connectedCallback(){this.render()}render(){var t;if(this.shadowRoot&&"DASHBOARD"===n.screen){const e=this.ownerDocument.createElement("app-dashboard");null===(t=this.shadowRoot)||void 0===t||t.appendChild(e)}}}customElements.define("app-container",m)})();